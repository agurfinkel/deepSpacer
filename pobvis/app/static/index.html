<!doctype html>
<html>
<head>
  <title>Spacer Visualization</title>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/vis/4.21.0/vis.min.js"></script>
  <script type = "text/javascript" src="/static/main.js"></script>
  <link type="text/css" rel="stylesheet" href="/static/vis.min.css" />
  <script type="text/javascript">
   function execute_file(){
       var fd = new FormData();
       var filename = document.getElementById("filename").value
       var query_text = document.getElementById("query").value
       var level = document.getElementById("level").value

       var params = document.getElementById("params").value


       fd.append('filename', filename)
       fd.append('query_text', query_text)
       fd.append('params', params)
       fd.append('level' , parseInt(level))

       console.log(fd)
       $.ajax({
           type: 'POST',
           url: '/execute_file/',
           data: fd,
           processData: false,
           contentType: false,
           error: function(jqXHR, textStatus, errorThrown){
           }
       }).done(function(data) {
           console.log(data)
           load_json(data["json_filename"])
       });

   }
 </script>

 <style type="text/css">
  #menu-container{
      width: 200px;
  }
  #canvas-container{
      position:absolute;
      top: 0px;
      left: 200px;
  }
  #network {
    position: relative;
    top:0;
    left:0;
    width: 98%;
    height:98%;
  }
  #instances {
    position: relative;
    top:0;
    right:0;
    width: 15%;
    height: 100%;
    overflow: scroll;
  }
  .expr {
    font-family: monospace;
    display: none;
    position: absolute;
    border: 1px solid black;
    width: 30%;
    height: 20%;
    overflow: auto;
    white-space: pre;
    background-color: white;
    padding: .5em;
    resize: both;
  }
   .prova{
    resize: both;
    overflow: auto;
    width: 30%;
    height: 20%;
    border: 1px solid black;
  }
  #expr_pob{
      top:0;
  }
  #expr_lemma{
    bottom: 0;
  }
  </style>
</head>
<body>
    <div id = "menu-container">
      <textarea id="query"></textarea>
      <input id="level" type="text" value="5"/>
      <textarea id="params" >{"spacer.max_level": 4}</textarea>
      <input id="filename" type="text" value="chc-lia-0006.smt2"/>
      <button type="button" onClick="execute_file()"> Execute</button>
  </div>
  <div id = "canvas-container">
      <h1 id="name"></h1>
      <div id="network"></div>
      <textarea readonly id="expr_pob" class="expr"></textarea>
      <textarea readonly id="expr_lemma" class="expr"></textarea>
  </div>
  

</body>
